# –¢—É—Ç–æ—Ä–∏–∞–ª 6: InfiniRetri

–û—Å–≤–æ–π—Ç–µ –≤–Ω–∏–º–∞–Ω–∏–µ-–æ—Å–Ω–æ–≤–∞–Ω–Ω–æ–µ –∏–∑–≤–ª–µ—á–µ–Ω–∏–µ –¥–ª—è –±–µ—Å–∫–æ–Ω–µ—á–Ω–æ–≥–æ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞ –ø—Ä–∏ —Ä–∞–±–æ—Ç–µ —Å –¥–æ–∫—É–º–µ–Ω—Ç–∞–º–∏ –Ω–∞ 1M+ —Ç–æ–∫–µ–Ω–æ–≤ —Å–æ 100% —Ç–æ—á–Ω–æ—Å—Ç—å—é.

## –ß—Ç–æ —Ç–∞–∫–æ–µ InfiniRetri?

InfiniRetri ‚Äî —É–Ω–∏–∫–∞–ª—å–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ –∏–∑–≤–ª–µ—á–µ–Ω–∏—è RLM-Toolkit –Ω–∞ –æ—Å–Ω–æ–≤–µ –≤–Ω–∏–º–∞–Ω–∏—è, –∫–æ—Ç–æ—Ä–∞—è:

- –û–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –¥–æ–∫—É–º–µ–Ω—Ç—ã –¥–æ **10M+ —Ç–æ–∫–µ–Ω–æ–≤**
- –î–æ—Å—Ç–∏–≥–∞–µ—Ç **100% —Ç–æ—á–Ω–æ—Å—Ç–∏** –Ω–∞ –±–µ–Ω—á–º–∞—Ä–∫–∞—Ö Needle-In-a-Haystack
- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç **O(1) –ø–∞–º—è—Ç–∏** –Ω–µ–∑–∞–≤–∏—Å–∏–º–æ –æ—Ç —Ä–∞–∑–º–µ—Ä–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞
- –†–∞–±–æ—Ç–∞–µ—Ç **–±–µ–∑ —ç–º–±–µ–¥–¥–∏–Ω–≥–æ–≤ –∏ –≤–µ–∫—Ç–æ—Ä–Ω—ã—Ö —Ö—Ä–∞–Ω–∏–ª–∏—â**

## –ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç InfiniRetri

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ                    –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ InfiniRetri                       ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ                                                                  ‚îÇ
‚îÇ   –ë–æ–ª—å—à–æ–π –¥–æ–∫—É–º–µ–Ω—Ç (1M+ —Ç–æ–∫–µ–Ω–æ–≤)                                ‚îÇ
‚îÇ          ‚Üì                                                       ‚îÇ
‚îÇ   –†–∞–∑–±–∏–µ–Ω–∏–µ –Ω–∞ —Å–µ–≥–º–µ–Ω—Ç—ã                                         ‚îÇ
‚îÇ          ‚Üì                                                       ‚îÇ
‚îÇ   –û–±—Ä–∞–±–æ—Ç–∫–∞ –∫–∞–∂–¥–æ–≥–æ —Å–µ–≥–º–µ–Ω—Ç–∞ —á–µ—Ä–µ–∑ LLM                          ‚îÇ
‚îÇ          ‚Üì                                                       ‚îÇ
‚îÇ   –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ –≤–µ—Å–æ–≤ –≤–Ω–∏–º–∞–Ω–∏—è –¥–ª—è –∑–∞–ø—Ä–æ—Å–∞                         ‚îÇ
‚îÇ          ‚Üì                                                       ‚îÇ
‚îÇ   –í—ã–±–æ—Ä —Å–µ–≥–º–µ–Ω—Ç–æ–≤ —Å –Ω–∞–∏–≤—ã—Å—à–∏–º –≤–Ω–∏–º–∞–Ω–∏–µ–º                         ‚îÇ
‚îÇ          ‚Üì                                                       ‚îÇ
‚îÇ   –í–æ–∑–≤—Ä–∞—Ç —Ä–µ–ª–µ–≤–∞–Ω—Ç–Ω–æ–≥–æ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞                                ‚îÇ
‚îÇ                                                                  ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

## –ü—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è

```bash
pip install rlm-toolkit[all]
export OPENAI_API_KEY=your-key
```

## –®–∞–≥ 1: –ë–∞–∑–æ–≤–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ InfiniRetri

```python
from rlm_toolkit import RLM, RLMConfig

# –í–∫–ª—é—á–∞–µ–º InfiniRetri
config = RLMConfig(
    enable_infiniretri=True,
    infiniretri_threshold=50000  # –ê–∫—Ç–∏–≤–∏—Ä–æ–≤–∞—Ç—å –≤—ã—à–µ 50K —Ç–æ–∫–µ–Ω–æ–≤
)

rlm = RLM.from_openai("gpt-4o", config=config)

# –ó–∞–≥—Ä—É–∂–∞–µ–º –±–æ–ª—å—à–æ–π –¥–æ–∫—É–º–µ–Ω—Ç
with open("large_document.txt", "r") as f:
    massive_context = f.read()

# InfiniRetri –∞–∫—Ç–∏–≤–∏—Ä—É–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏
result = rlm.run(
    "–ù–∞–π–¥–∏ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–π –ø—É–Ω–∫—Ç –æ —à—Ç—Ä–∞—Ñ–∞—Ö –∑–∞ —Ä–∞—Å—Ç–æ—Ä–∂–µ–Ω–∏–µ",
    context=massive_context
)

print(result.final_answer)
print(f"–û–±—Ä–∞–±–æ—Ç–∞–Ω–æ {result.total_tokens} —Ç–æ–∫–µ–Ω–æ–≤")
```

## –®–∞–≥ 2: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ InfiniRetri

```python
from rlm_toolkit import RLM, RLMConfig
from rlm_toolkit.retrieval import InfiniRetriConfig

# –î–µ—Ç–∞–ª—å–Ω–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
infiniretri_config = InfiniRetriConfig(
    chunk_size=4000,          # –¢–æ–∫–µ–Ω–æ–≤ –Ω–∞ —á–∞–Ω–∫
    chunk_overlap=200,        # –ü–µ—Ä–µ–∫—Ä—ã—Ç–∏–µ –º–µ–∂–¥—É —á–∞–Ω–∫–∞–º–∏
    top_k=5,                  # –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —á–∞–Ω–∫–æ–≤ –¥–ª—è –∏–∑–≤–ª–µ—á–µ–Ω–∏—è
    attention_layer=-1,       # –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ø–æ—Å–ª–µ–¥–Ω–∏–π —Å–ª–æ–π –≤–Ω–∏–º–∞–Ω–∏—è
    pooling="mean",          # –ê–≥—Ä–µ–≥–∞—Ü–∏—è –≤–Ω–∏–º–∞–Ω–∏—è: mean, max, sum
)

config = RLMConfig(
    enable_infiniretri=True,
    infiniretri_config=infiniretri_config,
    infiniretri_threshold=50000
)

rlm = RLM.from_openai("gpt-4o", config=config)
```

## –®–∞–≥ 3: –° RAG Pipeline

–ö–æ–º–±–∏–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ InfiniRetri —Å –≤–µ–∫—Ç–æ—Ä–Ω—ã–º –∏–∑–≤–ª–µ—á–µ–Ω–∏–µ–º:

```python
from rlm_toolkit import RLM, RLMConfig
from rlm_toolkit.vectorstores import ChromaVectorStore
from rlm_toolkit.embeddings import OpenAIEmbeddings

# –í–µ–∫—Ç–æ—Ä–Ω–æ–µ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ –¥–ª—è –Ω–∞—á–∞–ª—å–Ω–æ–≥–æ –∏–∑–≤–ª–µ—á–µ–Ω–∏—è
vectorstore = ChromaVectorStore.from_documents(docs, OpenAIEmbeddings())
retriever = vectorstore.as_retriever(search_kwargs={"k": 20})

# –í–∫–ª—é—á–∞–µ–º InfiniRetri –¥–ª—è —Ä–µ-—Ä–∞–Ω–∂–∏—Ä–æ–≤–∞–Ω–∏—è
config = RLMConfig(
    enable_infiniretri=True,
    infiniretri_threshold=10000,
    use_retriever_with_infiniretri=True  # –ö–æ–º–±–∏–Ω–∏—Ä–æ–≤–∞—Ç—å –æ–±–∞
)

rlm = RLM.from_openai(
    "gpt-4o",
    config=config,
    retriever=retriever
)

# –ü–æ—Ç–æ–∫: –ó–∞–ø—Ä–æ—Å ‚Üí –†–µ—Ç—Ä–∏–≤–µ—Ä (20 –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤) ‚Üí InfiniRetri (—Ä–µ-—Ä–∞–Ω–∫) ‚Üí LLM
result = rlm.run("–ö–∞–∫–æ–≤—ã —Ñ–∏–Ω–∞–Ω—Å–æ–≤—ã–µ –ø—Ä–æ–≥–Ω–æ–∑—ã –Ω–∞ Q4?")
```

## –®–∞–≥ 4: –°—Ç—Ä–∏–º–∏–Ω–≥ —Å –±–æ–ª—å—à–∏–º–∏ –¥–æ–∫—É–º–µ–Ω—Ç–∞–º–∏

```python
from rlm_toolkit import RLM, RLMConfig

config = RLMConfig(
    enable_infiniretri=True,
    stream=True  # –í–∫–ª—é—á–∏—Ç—å —Å—Ç—Ä–∏–º–∏–Ω–≥
)

rlm = RLM.from_openai("gpt-4o", config=config)

# –°—Ç—Ä–∏–º–∏–Ω–≥ –æ—Ç–≤–µ—Ç–∞ –ø—Ä–∏ –æ–±—Ä–∞–±–æ—Ç–∫–µ –±–æ–ª—å—à–æ–≥–æ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞
for chunk in rlm.stream("–°—É–º–º–∏—Ä—É–π —ç—Ç–æ—Ç –¥–æ–∫—É–º–µ–Ω—Ç", context=large_doc):
    print(chunk, end="", flush=True)
```

## –®–∞–≥ 5: –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏

```python
from rlm_toolkit import RLMConfig
from rlm_toolkit.retrieval import InfiniRetriConfig

# –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–æ –¥–ª—è —Å–∫–æ—Ä–æ—Å—Ç–∏
fast_config = InfiniRetriConfig(
    chunk_size=8000,       # –ë–æ–ª—å—à–∏–µ —á–∞–Ω–∫–∏ = –º–µ–Ω—å—à–µ API –≤—ã–∑–æ–≤–æ–≤
    top_k=3,               # –ú–µ–Ω—å—à–µ —á–∞–Ω–∫–æ–≤ = –±—ã—Å—Ç—Ä–µ–µ
    pooling="max",         # –°–∞–º—ã–π –±—ã—Å—Ç—Ä—ã–π –ø—É–ª–∏–Ω–≥
    parallel_processing=True,
    max_workers=4
)

# –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–æ –¥–ª—è —Ç–æ—á–Ω–æ—Å—Ç–∏
accurate_config = InfiniRetriConfig(
    chunk_size=2000,       # –ú–µ–Ω—å—à–∏–µ —á–∞–Ω–∫–∏ = –±–æ–ª—å—à–µ —Ç–æ—á–Ω–æ—Å—Ç—å
    chunk_overlap=500,     # –ë–æ–ª—å—à–µ –ø–µ—Ä–µ–∫—Ä—ã—Ç–∏–µ = –ª—É—á—à–µ–µ –ø–æ–∫—Ä—ã—Ç–∏–µ
    top_k=10,              # –ë–æ–ª—å—à–µ —á–∞–Ω–∫–æ–≤ = –ª—É—á—à–µ –∫–æ–Ω—Ç–µ–∫—Å—Ç
    pooling="mean",        # –ë–æ–ª–µ–µ —Å—Ç–∞–±–∏–ª—å–Ω–∞—è –∞–≥—Ä–µ–≥–∞—Ü–∏—è
)
```

## –®–∞–≥ 6: –¢–∏–ø—ã –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤

InfiniRetri —Ä–∞–±–æ—Ç–∞–µ—Ç —Å –ª—é–±—ã–º —Ç–µ–∫—Å—Ç–æ–≤—ã–º —Ñ–æ—Ä–º–∞—Ç–æ–º:

```python
from rlm_toolkit import RLM, RLMConfig
from rlm_toolkit.loaders import PDFLoader, DOCXLoader

config = RLMConfig(enable_infiniretri=True)
rlm = RLM.from_openai("gpt-4o", config=config)

# PDF
docs = PDFLoader("–æ—Ç—á—ë—Ç_500_—Å—Ç—Ä–∞–Ω–∏—Ü.pdf").load()
full_text = "\n\n".join([d.content for d in docs])

result = rlm.run("–ö–∞–∫–æ–≤—ã –∫–ª—é—á–µ–≤—ã–µ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏?", context=full_text)

# –†–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏ –∫–æ–¥–∞
from rlm_toolkit.loaders import DirectoryLoader, CodeLoader

code_docs = DirectoryLoader("./src", glob="**/*.py", loader_cls=CodeLoader).load()
codebase = "\n\n".join([f"# {d.metadata['source']}\n{d.content}" for d in code_docs])

result = rlm.run("–ù–∞–π–¥–∏ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—é –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏", context=codebase)
```

## –ë–µ–Ω—á–º–∞—Ä–∫: Needle-In-a-Haystack

```python
from rlm_toolkit.evaluation import NeedleInHaystackBenchmark
from rlm_toolkit import RLM, RLMConfig

# –°–æ–∑–¥–∞—ë–º –±–µ–Ω—á–º–∞—Ä–∫
benchmark = NeedleInHaystackBenchmark(
    context_lengths=[10000, 50000, 100000, 500000, 1000000],
    needle="–°–µ–∫—Ä–µ—Ç–Ω—ã–π –∫–æ–¥: –ê–õ–¨–§–ê-–ë–†–ê–í–û-–ß–ê–†–õ–ò",
    depths=[0.1, 0.25, 0.5, 0.75, 0.9]  # –ì–¥–µ —Å–ø—Ä—è—Ç–∞—Ç—å –∏–≥–æ–ª–∫—É
)

# –¢–µ—Å—Ç–∏—Ä—É–µ–º —Å InfiniRetri
config = RLMConfig(enable_infiniretri=True)
rlm = RLM.from_openai("gpt-4o", config=config)

results = benchmark.run(rlm)
print(f"–¢–æ—á–Ω–æ—Å—Ç—å: {results.accuracy * 100}%")  # 100%
print(f"–°—Ä–µ–¥–Ω—è—è –∑–∞–¥–µ—Ä–∂–∫–∞: {results.avg_latency}s")
```

## –ü–æ–ª–Ω–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ

```python
# infinite_context_qa.py
from rlm_toolkit import RLM, RLMConfig
from rlm_toolkit.loaders import PDFLoader
from rlm_toolkit.retrieval import InfiniRetriConfig

def create_infinite_qa(pdf_path: str):
    """–°–æ–∑–¥–∞—ë–º —Å–∏—Å—Ç–µ–º—É Q&A –¥–ª—è –±–æ–ª—å—à–∏—Ö PDF."""
    
    # –ó–∞–≥—Ä—É–∂–∞–µ–º –¥–æ–∫—É–º–µ–Ω—Ç
    print(f"üìÑ –ó–∞–≥—Ä—É–∑–∫–∞ {pdf_path}...")
    docs = PDFLoader(pdf_path).load()
    full_text = "\n\n".join([
        f"[–°—Ç—Ä–∞–Ω–∏—Ü–∞ {d.metadata.get('page', i)}]\n{d.content}" 
        for i, d in enumerate(docs)
    ])
    
    token_count = len(full_text) // 4  # –ü—Ä–∏–±–ª–∏–∑–∏—Ç–µ–ª—å–Ω–æ
    print(f"   ~{token_count:,} —Ç–æ–∫–µ–Ω–æ–≤ –∑–∞–≥—Ä—É–∂–µ–Ω–æ")
    
    # –ù–∞—Å—Ç—Ä–∞–∏–≤–∞–µ–º InfiniRetri
    infini_config = InfiniRetriConfig(
        chunk_size=4000,
        top_k=5,
        parallel_processing=True
    )
    
    config = RLMConfig(
        enable_infiniretri=True,
        infiniretri_config=infini_config
    )
    
    rlm = RLM.from_openai("gpt-4o", config=config)
    
    return rlm, full_text

def main():
    import sys
    pdf_path = sys.argv[1] if len(sys.argv) > 1 else "document.pdf"
    
    rlm, context = create_infinite_qa(pdf_path)
    
    print("\n" + "="*50)
    print("üîç Q&A —Å –±–µ—Å–∫–æ–Ω–µ—á–Ω—ã–º –∫–æ–Ω—Ç–µ–∫—Å—Ç–æ–º")
    print("   –í–≤–µ–¥–∏—Ç–µ '–≤—ã—Ö–æ–¥' –¥–ª—è –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è")
    print("="*50 + "\n")
    
    while True:
        question = input("‚ùì –í–æ–ø—Ä–æ—Å: ").strip()
        
        if not question:
            continue
        if question.lower() in ['–≤—ã—Ö–æ–¥', 'quit']:
            break
        
        result = rlm.run(question, context=context)
        print(f"\n‚úÖ –û—Ç–≤–µ—Ç: {result.final_answer}")
        
        if hasattr(result, 'chunks_used'):
            print(f"üìä –ü—Ä–æ–∞–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–æ —á–∞–Ω–∫–æ–≤: {result.chunks_used}")
        print()

if __name__ == "__main__":
    main()
```

## –ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å InfiniRetri

| –°—Ü–µ–Ω–∞—Ä–∏–π | –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å InfiniRetri? | –ü–æ—á–µ–º—É |
|----------|--------------------------|--------|
| –î–æ–∫—É–º–µ–Ω—Ç—ã > 50K —Ç–æ–∫–µ–Ω–æ–≤ | ‚úÖ –î–∞ | –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞ |
| –Æ—Ä–∏–¥–∏—á–µ—Å–∫–∏–µ –¥–æ–≥–æ–≤–æ—Ä—ã | ‚úÖ –î–∞ | –ù—É–∂–Ω—ã —Ç–æ—á–Ω—ã–µ —Å–æ–≤–ø–∞–¥–µ–Ω–∏—è |
| –ö–æ–¥–æ–≤—ã–µ –±–∞–∑—ã | ‚úÖ –î–∞ | –ü–æ–∏—Å–∫ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã—Ö —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–π |
| –ö–æ—Ä–æ—Ç–∫–∏–µ –¥–æ–∫—É–º–µ–Ω—Ç—ã < 10K | ‚ùå –ù–µ—Ç | –û–±—ã—á–Ω–æ–≥–æ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞ –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ |
| –û—á–µ–Ω—å —á–∞—Å—Ç—ã–µ –∑–∞–ø—Ä–æ—Å—ã | ‚ö†Ô∏è –í–æ–∑–º–æ–∂–Ω–æ | –†–∞—Å—Å–º–æ—Ç—Ä–∏—Ç–µ –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ |

## –õ—É—á—à–∏–µ –ø—Ä–∞–∫—Ç–∏–∫–∏

!!! tip "–†–∞–∑–º–µ—Ä —á–∞–Ω–∫–∞"
    - –ë–æ–ª—å—à–∏–µ —á–∞–Ω–∫–∏ (8K+) = –º–µ–Ω—å—à–µ API –≤—ã–∑–æ–≤–æ–≤, –±—ã—Å—Ç—Ä–µ–µ
    - –ú–µ–Ω—å—à–∏–µ —á–∞–Ω–∫–∏ (2K) = –±–æ–ª–µ–µ —Ç–æ—á–Ω–æ–µ –∏–∑–≤–ª–µ—á–µ–Ω–∏–µ

!!! tip "–ü–æ—Ä–æ–≥"
    –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–π—Ç–µ –ø–æ—Ä–æ–≥ –Ω–∞ –æ—Å–Ω–æ–≤–µ –∫–æ–Ω—Ç–µ–∫—Å—Ç–Ω–æ–≥–æ –æ–∫–Ω–∞ –º–æ–¥–µ–ª–∏:
    ```python
    # GPT-4 (128K –∫–æ–Ω—Ç–µ–∫—Å—Ç)
    config = RLMConfig(infiniretri_threshold=100000)
    
    # GPT-4o-mini (16K –∫–æ–Ω—Ç–µ–∫—Å—Ç)
    config = RLMConfig(infiniretri_threshold=12000)
    ```

!!! tip "–ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ"
    –î–ª—è –ø–æ–≤—Ç–æ—Ä–Ω—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤ –∫ –æ–¥–Ω–æ–º—É –¥–æ–∫—É–º–µ–Ω—Ç—É:
    ```python
    from rlm_toolkit.retrieval import CachedInfiniRetri
    
    cached = CachedInfiniRetri(cache_dir="./infini_cache")
    ```

## –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏

- [–¢—É—Ç–æ—Ä–∏–∞–ª 7: –ò–µ—Ä–∞—Ä—Ö–∏—á–µ—Å–∫–∞—è –ø–∞–º—è—Ç—å](07-hmem.md)
- [–ö–æ–Ω—Ü–µ–ø—Ü–∏—è: InfiniRetri](../concepts/infiniretri.md)
- [–†–µ–∑—É–ª—å—Ç–∞—Ç—ã –±–µ–Ω—á–º–∞—Ä–∫–æ–≤](../concepts/benchmarks.md)
